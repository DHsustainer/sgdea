$(document).ready(function(){



    $('input').attr('autocomplete','off');



    $(".titulotitulo").click(function(){



        if ($(this).parent().hasClass("active")) {



            $(this).parent().children("ul").slideUp();



            $(this).parent().removeClass("active");



        }else{



            $(this).parent().children("ul").slideDown();



            $(this).parent().addClass("active");



        }



    })



    $("#impr_box_main_menu").click(function(){



        $("#extras_menu").css({'display':'block'});



    })



    $("#content").click(function(){



        $('#extras_menu').css({'display':'none'});



    })



})











function AbrirResumenDocumento(){



    var iddoc = $("#verresumendocumento").attr("data-role");



    OpenWindow("/gestion_anexos/resumendocumento/"+iddoc+"/");



}



function AbrirDocumento(url, type, title, stype, idb){




/*


    //$("#mascara_registro").fadeIn("fast");
    $("#titulo_bloque_mascara").html(title);
    $("#verresumendocumento").attr("data-role", idb);

    id = $('#mascara_registro');
    //Get the screen height and width
    var maskHeight = $(document).height();
    var maskWidth = $(window).width();

    //Set heigth and width to mask to fill up the whole screen
    $('#mascara_registro').css({'width':maskWidth,'height':maskHeight});

    //transition effect     
    $('#mascara_registro').fadeIn(1000);    
    $('#mascara_registro').fadeTo("slow",1);    

    //Get the window height and width
    var winH = $(window).height();
    var winW = $(window).width();

    //Set the popup window to center
    $(id).css('top',  winH/2-$(id).height()/2);
    $(id).css('left', winW/2-$(id).width()/2);


    //transition effect
    $(id).fadeIn(2000); 
    var box = $('#mascara_registro');
    //Get the screen height and width

    var maskHeight = $(document).height();
    var maskWidth = $(window).width();
    //Set height and width to mask to fill up the whole screen

    $('#mask').css({'width':maskWidth,'height':maskHeight});
    //Get the window height and width
    var winH = $(window).height();
    var winW = $(window).width();

    //Set the popup window to center
    box.css('left', winW/2 - box.width()/2);


*/
    var str = "url="+url+"&type="+type+"&stype="+stype+"&idb="+idb+"&title="+title;



    var URL = '/dashboard/viewfile/';



    $.ajax({



        type: 'POST',



        url: URL,



        data: str,



        success: function(msg){


            window.open(url, '_blank');
            //result = msg;
            //$("#contenido_bloquex").html(result);
            //$('input').attr('autocomplete','off');



        }



    }); 



}







function osxDocumentos(ide, title, idb){







    //$("#mascara_registro").fadeIn("fast");



    $("#titulo_bloque_mascara").html(title);



    $("#verresumendocumento").attr("data-role", idb);







    id = $('#mascara_registro');







    //Get the screen height and width



    var maskHeight = $(document).height();



    var maskWidth = $(window).width();



    //Set heigth and width to mask to fill up the whole screen



    $('#mascara_registro').css({'width':maskWidth,'height':maskHeight});



    //transition effect     



    $('#mascara_registro').fadeIn(1000);    



    $('#mascara_registro').fadeTo("slow",1);    



    //Get the window height and width



    var winH = $(window).height();



    var winW = $(window).width();



    //Set the popup window to center



    $(id).css('top',  winH/2-$(id).height()/2);



    $(id).css('left', winW/2-$(id).width()/2);



    //transition effect



    $(id).fadeIn(2000); 



        var box = $('#mascara_registro');



    //Get the screen height and width



    var maskHeight = $(document).height();



    var maskWidth = $(window).width();



    //Set height and width to mask to fill up the whole screen



    $('#mask').css({'width':maskWidth,'height':maskHeight});



    //Get the window height and width



    var winH = $(window).height();



    var winW = $(window).width();



    //Set the popup window to center



    box.css('left', winW/2 - box.width()/2);



    var str = "ide="+ide+"&idb="+idb+"&title="+title;



    var URL = '/dashboard/viewfilevalidate/';



    $.ajax({



        type: 'POST',



        url: URL,



        data: str,



        success: function(msg){



            result = msg;



            $("#contenido_bloquex").html(result);



            $('input').attr('autocomplete','off');



        }



    }); 



}















function AbrirDocumentoPublico(url, type, title, stype, idb){



    //$("#mascara_registro").fadeIn("fast");



    $("#titulo_bloque_mascara").html(title);



    id = $('#mascara_registro');



    //Get the screen height and width



    var maskHeight = $(document).height();



    var maskWidth = $(window).width();



    //Set heigth and width to mask to fill up the whole screen



    $('#mascara_registro').css({'width':maskWidth,'height':maskHeight});



    //transition effect     



    $('#mascara_registro').fadeIn(1000);    



    $('#mascara_registro').fadeTo("slow",1);    



    //Get the window height and width



    var winH = $(window).height();



    var winW = $(window).width();



    //Set the popup window to center



    $(id).css('top',  winH/2-$(id).height()/2);



    $(id).css('left', winW/2-$(id).width()/2);



    //transition effect



    $(id).fadeIn(2000); 



        var box = $('#mascara_registro');



        //Get the screen height and width



    var maskHeight = $(document).height();



    var maskWidth = $(window).width();



    //Set height and width to mask to fill up the whole screen



    $('#mask').css({'width':maskWidth,'height':maskHeight});



    //Get the window height and width



    var winH = $(window).height();



    var winW = $(window).width();



    //Set the popup window to center



    box.css('left', winW/2 - box.width()/2);



    var str = "url="+url+"&type="+type+"&stype="+stype+"&idb="+idb;



    var URL = '/dashboard/viewPublicfile/';



    $.ajax({



            type: 'POST',



            url: URL,



            data: str,



            success: function(msg){



                    result = msg;



                    $("#contenido_bloque").html(result);



                    // Some code here!



                }



        }); 



}



function BuscarCarpetaExist(type){



    if(type == "1"){



            id = $("#nit").val()



        }else{



            id = $("#ide_n").val()



        }



    str = "id="+id+"&type="+type;



    //Alert2(str);



    $.ajax({



            type: 'POST',



            url: '/proceso/CheckFolderExists/',



            data: str,



            success: function(msg){



                    dem = msg.split("///");



                    if (msg != 0){



                            if(confirm("Ya tiene una carpeta creada con este numero de identificación. ¿Esta seguro que desea crear una carpeta nueva para el mismo cliente?")){



                                    if(type == "1"){



                                            $('#nom_j').val(dem[0]);



                                            $('#dir_j').val(dem[1]);



                                            $('#ciu_j').val(dem[2]);



                                            $('#tel_j').val(dem[3]);



                                            $('#mai_j').val(dem[4]);



                                            $('#pno_j').val(dem[5]);



                                            $('#sno_j').val(dem[6]);



                                            $('#pap_j').val(dem[7]);



                                            $('#sap_j').val(dem[8]);



                                            $('#cir_j').val(dem[9]);



                                        }else if(type == "2"){















                        $('#dir_n').val(dem[0]);















                        $('#ciu_n').val(dem[1]);















                        $('#pno_n').val(dem[2]);















                        $('#sno_n').val(dem[3]);















                        $('#pap_n').val(dem[4]);















                        $('#sap_n').val(dem[5]);















                        $('#tel_n').val(dem[6]);















                        $('#mai_n').val(dem[7]);















                        $('#lug_n').val(dem[8]);















                    }               















                }else{















                    if(type == "1"){















                        $("#nit").val("");















                    }else{















                        $("#ide_n").val("");















                    }















                }















            } 















        }















    });















}















function BuscarDemandanteJuridica(is){















    var str = "";















    var dem = "";















    str = "id_folder="+$("#folder_id").val();















    $.ajax({















        type: 'POST',















        url: '/proceso/BuscarDemandanteJuridica/',















        data: str,















        success: function(msg){















            if ( msg == 0 ){















                $.ajax({















                    type: 'POST',















                    url: '/proceso/BuscarDemandanteNatural/',















                    data: str,















                    success: function(msg){















                        if ( msg == 0 ){















                            Alert2("La carpeta que usted escogio no contiene un demandante natural ingresado previamente");















                        }else{















                            dem = msg.split("///");















                            /*$('#dir_0').val(dem[0]);















                            $('#ciu_0').val(dem[1]);















                            $('#nom_n').val(dem[2]);















                            $('#tel_n').val(dem[3]);















                            $('#mai_n').val(dem[4]);















                            $('#idn_n').val(dem[5]);















                            $('#lug_n').val(dem[6]);















*/















                            $('#dir_j').val(dem[0]);















                            $('#ciu_j').val(dem[1]);















                            $('#nom_j').val(dem[2]);















                            $('#tel_j').val(dem[3]);















                            $('#mai_j').val(dem[4]);















                            $('#nit_j').val(dem[6]);















                            $('#lug_j').val(dem[5]);















                        }















                    }















                });















            }else{















                dem = msg.split("///");















                $('#dir_j').val(dem[0]);















                $('#ciu_j').val(dem[1]);















                $('#nom_j').val(dem[2]);















                $('#tel_j').val(dem[3]);















                $('#mai_j').val(dem[4]);















                $('#nit_j').val(dem[6]);















                $('#lug_j').val(dem[5]);















                $('#rep_j').val(dem[7]);















                $('#cre_j').val(dem[8]);















            }















        }















    });















}















function ActivarUsuario(id){















    var st = '0';















    if($("#us_"+id).is(':checked')) {  















        st = "1";















        var URL = '/usuarios/actdeact/'+id+'/1/';















    } else {  















        st = "0";















        var URL = '/usuarios/actdeact/'+id+'/0/';















    } 















    $.ajax({















        url:URL,















        type:'POST',















        success:function(msg){















            if (msg != "error!") {















                //if (st == "1") {















                    Alert2(msg);















                    window.location.reload();















                //}else{















                //    Alert2("Usuario Desactivado");















                //}















            }else{















                Alert2("Ha alcanzado el limite de usuarios activos\nPuede desactivar un usuario para dar de alta a otro \n O adquirir un cupo de usuarios mas amplio")















                $("#us_"+id).attr('checked', false);















            }















        }















    });















}















    function ActivarAdmin(id){















        var st = '0';















        if($("#usa_"+id).is(':checked')) {  















            st = "1";















            var URL = '/usuarios/actdeactadmin/'+id+'/1/';















        } else {  















            st = "0";















            var URL = '/usuarios/actdeactadmin/'+id+'/0/';















        } 















        $.ajax({















            url:URL,















            type:'POST',















            success:function(msg){















                Alert2(msg);















            }















        });















    }












    function ActivarSuperAdmin(id){

        var st = '0';

        if($("#ussa_"+id).is(':checked')) {  

            st = "1";
            var URL = '/usuarios/actdeactsadmin/'+id+'/1/';

        } else {  

            st = "0";
            var URL = '/usuarios/actdeactsadmin/'+id+'/0/';

        } 

        $.ajax({
            url:URL,
            type:'POST',
            success:function(msg){
                Alert2(msg);
            }
        });
    }

    function ActivarAdmin2(id){

        valor = $("#option1"+id).attr("data-role");
        var st = valor;
        var URL = '/usuarios/actdeactadmin/'+id+'/'+valor+'/';

        $.ajax({

            url:URL,
            type:'POST',
            success:function(msg){

                if (valor == "1") {

                    $("#option1"+id).removeClass("text-muted");
                    $("#option1"+id).addClass("text-success");
                    $("#option1"+id).removeClass("mdi-toggle-switch-off");
                    $("#option1"+id).addClass("mdi-toggle-switch");
                    $("#option1"+id).attr("data-role", "0");

                }else{

                    $("#option1"+id).removeClass("text-success");
                    $("#option1"+id).removeClass("mdi-toggle-switch");
                    $("#option1"+id).addClass("mdi-toggle-switch-off");
                    $("#option1"+id).addClass("text-muted");
                    $("#option1"+id).attr("data-role", "1");

                }
            }
        });
    }

    function ActivarSuperAdmin2(id){

        valor = $("#option2"+id).attr("data-role");
        var st = valor;
        var URL = '/usuarios/actdeactsadmin/'+id+'/'+valor+'/';

        $.ajax({
            url:URL,
            type:'POST',
            success:function(msg){
                if (valor == "1") {
                    $("#option2"+id).removeClass("text-muted");
                    $("#option2"+id).addClass("text-success");
                    $("#option2"+id).removeClass("mdi-toggle-switch-off");
                    $("#option2"+id).addClass("mdi-toggle-switch");
                    $("#option2"+id).attr("data-role", "0");
                }else{
                    $("#option2"+id).removeClass("text-success");
                    $("#option2"+id).removeClass("mdi-toggle-switch");
                    $("#option2"+id).addClass("mdi-toggle-switch-off");
                    $("#option2"+id).addClass("text-muted");
                    $("#option2"+id).attr("data-role", "1");
                }
            }
        });
    }















    function ActivarMailAdmin(id){















        var st = '0';















        if($("#usamail_"+id).is(':checked')) {  















            st = "1";















            var URL = '/usuarios/actdeactmailadmin/'+id+'/1/';















        } else {  















            st = "0";















            var URL = '/usuarios/actdeactmailadmin/'+id+'/0/';















        } 















        $.ajax({















            url:URL,















            type:'POST',















            success:function(msg){















                Alert2(msg);















            }















        });















    }















function ChangeStatusAlerta(id){

    if($("#act_"+id).is(':checked')) {
        var URL = '/dashboard/updatealerta/'+id+'/2/';
    } else {  
        var URL = '/dashboard/updatealerta/'+id+'/0/';
    }

    $.ajax({
        url:URL,
        type:'POST',
        success:function(msg){
        }
    });
}

function ChangeStatusAlertav2(id, estado){

    if(confirm("Está seguro de actualizar el estado del evento")){

        var URL = '/dashboard/updatealertav2/'+id+'/'+estado+'/';
        
        $.ajax({
            url:URL,
            type:'POST',
            success:function(msg){
                window.location.reload();
            }
        });
    }
    //return false;
}















function confirmDel(ur){















    if (confirm("¿Realmente desea eliminar la carpeta?")){















        window.location.replace(ur);















    }else{















        return false ;















    } 















}















function SendDataCliente(id, cn){















    var URL = '/suscriptores_contactos/sendDatamail/'+id+'/'+cn+'/';















    $.ajax({















        url:URL,















        type:'POST',















        success:function(msg){















            Alert2(msg);















        }















    });















}















function dependencia_estado(departamento){















    var code = "CO";















    $.get("/province/GetProvinces/"+code+"/", { code: code },















        function(resultado){















            if(resultado == false){















                Alert2("Error");















            }else{















                $("#"+departamento).attr("disabled",false);















                document.getElementById(departamento).options.length=1;















                $('#'+departamento).append(resultado);          















            }















        }















    );















}















function dependencia_estadoinExistence(departamento){















    var code = "CO";















    $.get("/province/GetProvincesinExistence/"+code+"/", { code: code },















        function(resultado){















            if(resultado == false){























                $("#"+departamento).attr("disabled",true);















                $("#"+departamento).addClass("disabled");















            }else{















                $("#"+departamento).attr("disabled",false);















                $("#"+departamento).removeClass("disabled");















                document.getElementById(departamento).options.length=1;















                $('#'+departamento).append(resultado);          















            }















        }















    );















}







function GetMyDpto(id){



    var code = "";



    $.get("/province/GetMyDpto/", { code: code },function(resultado){



        $("#"+id+" > option[value="+ resultado +"]").attr("selected",true)



        



    }); 



}















function dependencia_ciudad(departamento, ciudad){















    var code = $("#"+departamento).val();















    $.get("/city/GetCitys/"+code+"/", { code: code },















        function(resultado){















        if(resultado == false){











            $("#"+ciudad).attr("disabled",true);















            $("#"+ciudad).addClass("disabled");















        }else{















            $("#"+ciudad).attr("disabled",false);















            $("#"+ciudad).removeClass("disabled");















            document.getElementById(ciudad).options.length=1;















            $('#'+ciudad).append(resultado);            















        }















    }); 















}















function dependencia_ciudadinExistence(departamento, ciudad){















    var code = $("#"+departamento).val();







    $.get("/city/GetCitysinExistence/"+code+"/", { code: code },















        function(resultado){















        if(resultado == false){















            Alert2('El Departamento Seleccionado no Tiene Ciudades / Municipios Registradas');















            $("#"+ciudad).attr("disabled",true);















            $("#"+ciudad).addClass("disabled");















        }else{















            $("#"+ciudad).attr("disabled",false);















            $("#"+ciudad).removeClass("disabled");















            document.getElementById(ciudad).options.length=1;















            $('#'+ciudad).append(resultado);            















        }















    }); 















}















function dependencia_item(principal, dependencia, pagina){















    var code = $("#"+principal).val();















    var page = pagina+"/"+code+"/";















    //Alert2(page)















    $.get(page, { code: code }, function(resultado){















      //  Alert2(resultado);















        if(resultado == false){



















            $("#"+dependencia).attr("disabled",true);















            $("#"+dependencia).addClass("disabled");















            document.getElementById(dependencia).options.length=1;          















        }else{















            $("#"+dependencia).attr("disabled",false);















            $("#"+dependencia).removeClass("disabled");















            document.getElementById(dependencia).options.length=1;















            $('#'+dependencia).append(resultado);           















        }















    }); 















}















function dependencia_item2(itema, itemb, dependencia, pagina){















    var code = $("#"+itema).val();















    var code2 = $("#"+itemb).val();















    var page = pagina+"/"+code+"/"+code2+"/";















    //Alert2(page)















    $.get(page, { code: code }, function(resultado){















      //  Alert2(resultado);















        if(resultado == false){











            $("#"+dependencia).attr("disabled",true);















            $("#"+dependencia).addClass("disabled");















            document.getElementById(dependencia).options.length=1;          















        }else{















            $("#"+dependencia).attr("disabled",false);















            $("#"+dependencia).removeClass("disabled");















            document.getElementById(dependencia).options.length=1;















            $('#'+dependencia).append(resultado);           















        }















    }); 















}















function zeroFill( number, width )















{















  width -= number.toString().length;















  if ( width > 0 )















  {















    return new Array( width + (/\./.test( number ) ? 2 : 1) ).join( '0' ) + number;















  }















  return number + ""; // always return a string















}















function GetDetailDependencia(){















    var elm = $("#tipo_documento").val();















    $("#cargador_box").html("");















    var URL = '/dependencias/configurar/'+elm+'/';















        $.ajax({















            url: URL,  















            type: 'POST',















            cache: false,















            contentType: false,















            processData: false,















            success: function(data){















                $('#formsubsrs').html(data);















            }















        });















}















function cargador_box(who, id){















    $('#cargador_box').slideUp('fast');















    $('#menu_tab > div').removeClass('activa');















    $("#"+who).addClass('activa');















    var URL = '/dependencias/'+who+'/'+id+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            $('#cargador_box').slideDown('fast');















            $('#cargador_box').html(msg);















             var pos = $("#menu_tab").offset().top - 120;















            $('#content').animate({ scrollTop : pos }, 'slow');















        }















    });















}















function InsertarFormulario(){















    if (confirm("¿Esta seguro que desea crear este formulario?")) {















        if (CheckImportantes("formref_tables")) {















            var URL = '/ref_tables/registrar/';















            var str = $("#formref_tables").serialize();















            $.ajax({















                type: 'POST',















                url: URL,















                data: str,















                success:function(msg){















                    Alert2("Formulario Creado");















                    $("#Tablaref").append('<tr id="r'+msg+'" class="tblresult">'+















                        '<td>'+$("#title").val()+'</td>'+















                        '<td>'+$("#fecha").val()+'</td>'+















                        '<td>'+















                            '<div style="float:left; margin-right:5px;" onclick="EditarRef_tables(\''+msg+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div>'+















                            '<div style="float:left; margin-right:5px;" onclick="EliminarRef_tables(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div>'+















                        '</td></tr>');















                    EditarRef_tables(msg);















                }















            });   















        }















    }















}















function EditarRef_tables(id){















    var URL = '/ref_tables/editar/'+id+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            result = msg;















            $('#loadpathform').html(result);















        }















    });   















}















function EliminarRef_tables(id){















    if(confirm('Esta seguro desea eliminar este libro')){















        var URL = '/ref_tables/eliminar/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success: function(msg){















                Alert2(msg);















                $('#r'+id).remove();















            }















        });















    }















}   















function UpdateFormulario(){















    var URL = '/ref_tables/actualizar/';















    var str = $("#FormUpdateref_tables").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Formulario Actualizado");















        }















    });   















}















function InsertarTipologia(){















    if (confirm("¿Esta seguro que desea una nueva tipología Documental?")) {















        if (CheckImportantes("formdependencias_tipologias")) {















            var URL = '/dependencias_tipologias/registrar/';















            var str = $("#formdependencias_tipologias").serialize();















            $.ajax({















                type: 'POST',















                url: URL,















                data: str,















                success:function(msg){















//                    Alert2(msg);















                    alert("Tipología Documental Creada");















                    /*$("#Tabladependencias_tipologias").append('<tr id="r'+msg+'" class="tblresult">'+















                        '<td>'+$("#formdependencias_tipologias #tipologia").val()+'</td>'+















                        '<td>'+$("#fecha").val()+'</td>'+















                        '<td>'+















                            '<div style="float:left; margin-right:5px;" onclick="EditarDependencias_tipologias(\''+msg+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div>'+















                            '<div style="float:left; margin-right:5px;" onclick="EliminarDependencias_tipologias(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div>'+















                        '</td></tr>');















                    $("#formdependencias_tipologias tipologia").val("");*/















                    cargador_box('views_tipologias',$("#formdependencias_tipologias #id_dependencia").val());















                }















            });   















        }















    }















}















function InsertarAlertaDependencia(){















    if (confirm("¿Esta seguro que desea una nueva Alerta?")) {















        if (CheckImportantes("formdependencias_alertas")) {















            var URL = '/dependencias_alertas/registrar/';















            var str = $("#formdependencias_alertas").serialize();















            $.ajax({















                type: 'POST',















                url: URL,















                data: str,















                success:function(msg){















                    Alert2("Alerta Personalizada Creada");















                    $("#Tabladependencias_alertas").append('<tr id="r'+msg+'" class="tblresult">'+















                        '<td>'+$("#formdependencias_alertas #nombre").val()+'</td>'+















                        '<td>'+$("#dias_alerta").val()+'</td>'+















                        '<td>'+$("#fecha").val()+'</td>'+















                        '<td>'+















                            '<div style="float:left; margin-right:5px;" onclick="EditarDependencias_alertas(\''+msg+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div>'+















                            '<div style="float:left; margin-right:5px;" onclick="EliminarDependencias_alertas(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div>'+















                        '</td></tr>');















                    $("#formdependencias_alertas #nombre").val("")















                    $("#formdependencias_alertas #dias_alerta").val("")















                    $("#formdependencias_alertas #fecha").val("")















                    $("#formdependencias_alertas #dias_antes").val("")















                    $("#formdependencias_alertas #descripcion").val("")















                }















            });   















        }   















    }















}















function InsertarDocumentodependencia(){















    if (confirm("¿Esta seguro que desea crear un nuevo documento obligatorio?")) {















        if (CheckImportantes("formdependencias_documentos")) {















            var URL = '/dependencias_documentos/registrar/';















            var str = $("#formdependencias_documentos").serialize();















            $.ajax({















                type: 'POST',















                url: URL,















                data: str,















                success:function(msg){















                    Alert2("Documento Generico Creado");















                    cargador_box('views_doc_obligatorios',$("#id_dependencia").val());















                    /*















                    $("#Tabladependencias_documentos").append('<tr id="r'+msg+'" class="tblresult">'+















                        '<td>'+$("#formdependencias_documentos #nombre").val()+'</td>'+















                        '<td>'+$("#fecha").val()+'</td>'+















                        '<td>'+















                            '<div style="float:left; margin-right:5px;" onclick="EditarDependencias_documentos(\''+msg+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div>'+















                            '<div style="float:left; margin-right:5px;" onclick="EliminarDependencias_documentos(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div>'+















                        '</td></tr>');















        */















                }















            });   















        }















    }















}















function UpdateTipologia(){















    var URL = '/dependencias_tipologias/actualizar/';















    var str = $("#FormUpdatedependencias_tipologias").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            alert("Tipología Actualizado");















            msgx = $("#FormUpdatedependencias_tipologias #id").val();















            $("#col"+msgx).text($("#FormUpdatedependencias_tipologias #tipologia").val());















        }















    });















}















function UpdateAlertaDependencia(){















    var URL = '/dependencias_alertas/actualizar/';















    var str = $("#FormUpdatedependencias_alertas").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Alerta Actualizada");















            msgx = $("#FormUpdatedependencias_alertas #id").val();















            $("#col"+msgx).text($("#FormUpdatedependencias_alertas #nombre").val());















            $("#colx"+msgx).text($("#FormUpdatedependencias_alertas #dias_alerta").val());















        }















    });















}















function UpdateDocumentoDependencia(){















    var URL = '/dependencias_documentos/actualizar/';















    var str = $("#FormUpdatedependencias_documentos").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Alerta Actualizada");















            msgx = $("#FormUpdatedependencias_documentos #id").val();















            $("#col"+msgx).text($("#FormUpdatedependencias_documentos #nombre").val());















        }















    });















}















function InsertDependenciaPermisoDocumento(){















    var URL = '/dependencias_permisos_documento/registrar/';















    var str = $("#formdependencias_permisos_documento").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Permiso Agregado");















            $("#Tabladependencias_permisos_documento").append('<tr id="r'+msg+'" class="tblresult">'+















                '<td>'+$("#formdependencias_permisos_documento #usuario_permiso").val()+'</td>'+















                '<td>'+















                    '<div style="float:left; margin-right:5px;" onclick="EliminarDependencias_permisos_documento(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div>'+















                '</td></tr>');















        }















    });   















}















function ExportarFormulario(id){















    var URL = '/big_data/exportarformulario/'+id+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success: function(msg){















            result = msg;















            Alert2(result);















            if (result == "Formulario Exportado a Anexos") {















                window.location.reload();















            }















            // Some code here!















        }















    });   















}















function ExportarDocumento(id, rad){



    var exportar = "";



    if (confirm("si desea que el sistema firma el documento por favor dele aceptar. \nSi el documento requiere de firma física por favor dele cancelar.")) {



        exportar = "1";



    }else{



        exportar = "0";



    }



    var URL = '/documentos_gestion/exportardocumento/'+id+'/'+rad+'/'+exportar+'/';



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



            result = msg.split("@@");



            $("#outputx").html(msg);



            if (exportar == "1") {



                OpenWindow("/firmas_usuarios/firmar/"+result[0]+"/");



                window.location.href = '/gestion/ver/'+rad+'/';



            }else{



                Alert2(result[1]);



                window.location.href = '/gestion/ver/'+rad+'/';



            }



        }



    });    



}











function ExportarBigData(id){







    var URL = '/meta_big_data/exportar/'+id+'/';



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



            //$("#mypanelresult").html(msg);



            result = msg.split("@@");



            if (confirm("Documento Exportado Correctamente ¿Desea Firmarlo Digitalmente?")) {



                OpenWindow("/firmas_usuarios/firmar/"+result[0]+"/");



                //window.location.href = '/gestion/ver/'+rad+'/';



            }else{



                if (result[1] == "Documento Exportado a Anexos") {



                    window.location.reload();



                }



            }



            // Some code here!



        }



    });    







}







function EliminarBigData(id){



    if (confirm("Está seguro de eliminar el formulario?")) {



        var URL = '/meta_big_data/eliminar/'+id+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success: function(msg){



                //$("#mypanelresult").html(msg);



                Alert2(msg);



                window.location.reload();



                



            }



        });    



    }







}







function ExportarResumen(id){







    var URL = '/gestion/exportar/'+id+'/';



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



            $("#mypanelresult").html(msg);



            result = msg.split("@@");



            if (confirm("Documento Exportado Correctamente ¿Desea Firmarlo Digitalmente?")) {



                OpenWindow("/firmas_usuarios/firmar/"+result[0]+"/");



                //window.location.href = '/gestion/ver/'+rad+'/';



            }else{



                if (result[1] == "Documento Exportado a Anexos") {



                    window.location.reload();



                }



            }



            // Some code here!



        }



    });    







}











function showfiles(show, marker){















    //ShowLoader("show");















    $('#menu_tab > div').removeClass('active');















    $("#"+marker).addClass('active');















    $('#cargador_box_upfiles').slideUp('fast');















    //location.replace();















    var URL = show;















    $.ajax({















        type: 'POST',















        url: URL,















        success: function(msg){















            result = msg;















            $('#cargador_box_upfiles').html(result);















            $('#cargador_box_upfiles').slideDown('fast');















            // Some code here!















//                var pos = $("#menu_tab").offset().top - 130;















//                $('#folders-list-content').animate({ scrollTop : pos }, 'slow');















        }















    }); 















}















function LoadWsCofig3(show, marker){







    $('#navlist3 > a').removeClass('active');



    $("#"+marker).addClass('active');



    $('#loaderconfigService3').slideUp('fast');



    var URL = show;



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



            result = msg;



            $('#loaderconfigService3').html(result);



            $('#loaderconfigService3').slideDown('fast');



        }



    }); 



}















function LoadWsCofig2(show, marker){















    $('#navlist2 > a').removeClass('active');















    $("#"+marker).addClass('active');















    $('#loaderconfigService2').slideUp('fast');















    var URL = show;















    $.ajax({















        type: 'POST',















        url: URL,















        success: function(msg){















            result = msg;















            $('#loaderconfigService2').html(result);















            $('#loaderconfigService2').slideDown('fast');















        }















    }); 















}















function LoadWsCofig(show, marker){















    $('#navlist > li').removeClass('active');















    $("#"+marker).addClass('active');















    $('#loaderconfigService').slideUp('fast');















    var URL = show;















    $.ajax({















        type: 'POST',















        url: URL,















        success: function(msg){















            result = msg;















            $('#loaderconfigService').html(result);















            $('#loaderconfigService').slideDown('fast');















        }















    }); 















}















function updatePlantillaEmail(){















    var URL = '/plantillas_email/actualizar/';















    var str = $("#FormUpdateplantillas_email").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Email Actualizado");















        }















    });  















}















function ShowMailer(show, marker){

    //ShowLoader("show");
    $('#menu_tab2 > li').removeClass('active');
    $("#"+marker).addClass('active');
    $('#cargador_box_upfiles2').slideUp('fast');
    $('#cargador_box_upfiles2').html("Espere un momento...");
    $('#cargador_box_upfiles2').slideDown('fast');

    var URL = show;
    $.ajax({
        url: URL,
        success: function(msg){
            result = msg;
            $('#cargador_box_upfiles2').html(result);
            // Some code here!
            // var pos = $("#menu_tab2").offset().top - 130;
            //  $('#folders-list-content').animate({ scrollTop : pos }, 'slow');
        }
    }); 
}















//function ShowLoader(show, parent) parent = div contenedor de ubicar....















/*















function ShowLoader(show){















    par = $(parent);















    $("#preloader_mask").width(par.width())















    $("#preloader_mask").height(par.height())















    mtop = (par.height()/2) - 25;















    $("#preloader_mask img").css("margin-top", mtop+"px");















    var position = par.position();















    Bt = position.top ;















    Bl = position.left;















    $("#preloader_mask").css("top", Bt+"px");















    $("#preloader_mask").css("left", Bl+"px");















    if(show == "show"){















        $("#preloader_mask").fadeIn("fast");















        $(body).css("cursor", "wait");















    }else if(show == "hide"){















        $("#preloader_mask").fadeOut("fast");















        $(body).css("cursor", "default");















    }















}















    */















function InsertBigData(id_gestion, id_dependencia){















    var URL = '/big_data/registrar/';















    var str = $("#formbig_data").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Formulario Creado");















            showfiles('/gestion/GetFormularios/'+id_gestion+'/'+id_dependencia+'/', 'cargador_box_forms');















        }















    });   















}















function UpdateBigData(id){















    var URL = '/big_data/actualizar/';















    var str = $("#FormUpdatebig_data"+id).serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Formulario Actualizado");















            //showfiles('/gestion/GetFormularios/4/3/', 'cargador_box_forms')















            $('#FormUpdatebig_data'+id+' .input1').removeClass('editable');















            $('#FormUpdatebig_data'+id+' .input1').addClass('no_editable');















            $('#FormUpdatebig_data'+id+' .input1').prop('disabled', true);















            $('#FormUpdatebig_data'+id+' #edit_opc1').show();















            $('#FormUpdatebig_data'+id+' #save_opc1').hide();















        }















    });    















}















function UpdateBigData2(id, gestion){















    var URL = '/big_data/actualizar/';















    var str = $("#FormUpdatebig_data"+id).serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Formulario Actualizado");















            window.location.href = '/gestion/ver/'+gestion+"/";















        }















    });    















}















function changetypedoc(id, ge, val){



    /*if(confirm("¿Está seguro que desea cambiar la tipología de este documento?")){



    }*/



        op = "";



        var URL = '/gestion_anexos/actualizartipologia/'+id+'/'+val+'/'+op+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2("Tipología del Documento Actualizada: "+msg);



            }



        })



}











function changetypesop(id, ge, val){



    /*if(confirm("¿Está seguro que desea cambiar el soporte de este documento?")){



    }*/



        op = "";



        var URL = '/gestion_anexos/actualizarsoporte/'+id+'/'+val+'/'+op+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2("Soporte del Documento Actualizada: "+msg);



            }



        })



}







function changeprod(id, val){



    /*if(confirm("¿Está seguro que desea cambiar el soporte de este documento?")){



    }*/



        op = "";



        var URL = '/gestion_anexos/actualizarproductor/'+id+'/'+val+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2("Productor del Documento Actualizada: "+msg);



            }



        })



}







function changeObservacionDocumento(id){



    /*if(confirm("¿Está seguro que desea cambiar la Observacion de este documento?")){



    }*/



        var val = $("#obsx"+id).val(); 



        var URL = '/gestion_anexos/actualizarobservacion/'+id+'/'+val+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2("Observacion del Documento Actualizado: "+msg);



            }



        })



}











function changePublic(id, valor){

    var URL = '/gestion_anexos/actualizarpublic/'+id+'/'+valor+'/';

    $.ajax({
        type: 'POST',
        url: URL,
        success:function(msg){
            Alert2("Documento Actualizado");
            //window.location.reload();
        }
    })
}















function changeInOut(id){







    var estamar = "0";







    







    if (confirm("¿Desea Agregar Estampado al Documento?")) {







        estamar = "1";







    }















    var URL = '/gestion_anexos/actualizarInOut/'+id+'/'+$("#changeInOut"+id).val()+'/'+estamar+"/";







    $.ajax({







        type: 'POST',







        url: URL,







        success:function(msg){







            Alert2("Origen del Documento Actualizado");







            //$("#output"+id).html(msg)







        }







    })







}















function ActivarAlerta(alerta, gestion, dep){















    var URL = '/events_gestion/activatealerta/'+gestion+'/'+alerta+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2("Tipología del Documento Actualizada" + msg);















            showfiles('/gestion/GetAlertas/'+gestion+'/'+dep+'/', 'cargador_box_alertas')















        }















    })















}















function InsertSuscriptor(id_gestion){















    var URL = '/gestion_suscriptores/registrar/';















    var str = $("#formgestion_suscriptores").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Suscriptor Creado");















            showfiles('/gestion/GetSuscriptores/'+id_gestion+'/', 'cargador_box_suscriptores');















        }















    }); 















}















function ActualizarGestionSuscriptores(id, id_gestion){















    var URL = '/gestion_suscriptores/actualizar/';















    var str = $("#FormUpdategestion_suscriptores"+id).serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Suscriptor Actualizado");















            showfiles('/gestion/GetSuscriptores/'+id_gestion+'/', 'cargador_box_suscriptores');















        }















    }); 















}















function UpdateGestion(){







    var URL = '/gestion/actualizar/';



    var str = $("#FormUpdategestion").serialize();







    $.ajax({



        type: 'POST',



        url: URL,



        data: str,



        success:function(msg){







            if (msg.trim() == "error") {







                Alert2("No tiene permisos para editar este expediente {"+msg+"}");







            }else{



                if (msg.trim() == "0") {



                    Alert2("El Formulario Actualizado fue actualizado pero no se realizó la transferencia ya que una transferencia pendiente para este expediente.");



                }else{



                    Alert2("Formulario Actualizado");



                }



            }







            if ($("#estado_respuesta").val() == "Cerrado") {



                /*if (confirm("Está marcado el expediente como 'Cerrado', ¿Desea Exportarlo y firmarlo Digitalmente?")) {



                    $("#myexportbutton").click();



                }*/



            }







            //showfiles('/gestion/GetFormularios/4/3/', 'cargador_box_forms')



            window.location.reload();



        }



    });    



}















function InsertGestionFolder(){

    var URL = '/gestion_folder/registrar/';
    var str = $("#formgestion_folder").serialize();

    $('#btnInsertGestionFolder').hide();
    $.ajax({


        type: 'POST',




        url: URL,





        data: str,



        success:function(msg){



            $('#btnInsertGestionFolder').show();
            Alert2("Carpeta Creada");















            showfiles('/gestion/GetAnexos/'+$("#gestion_id").val()+'/'+$("#folder_id").val()+'/1/', 'cargador_box_suscriptores');















        }















    }); 















}















function InsertGestion_compartir(){















    if (CheckImportantes("formgestion_compartir")) {















        var URL = '/gestion_compartir/registrar/';















        var str = $("#formgestion_compartir").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Expediente Compartido con el usuario "+msg);















                showfiles('/gestion/GetShared/'+$("#gestion_id").val()+'/', 'cargador_box_compartir');















            }















        });     















    }















}















function showqanexos(show){



    //ShowLoader("show");



    var URL = show;



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



           $('#cargaranexospreview').html(msg);



       }



    }); 



}



function showqanexos2(show){



    //ShowLoader("show");



    var URL = show;



    $.ajax({



        type: 'POST',



        url: URL,



        success: function(msg){



           $('#cargaranexospreview').html(msg);



       }



    }); 



}















function ChangeArchivo(){















    var URL = '/seccional/ChangeArchivo/'+$("#currentseccional").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function ChangeCiudad(){















    var URL = '/seccional/ChangeCiudad/'+$("#currentciudad").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function ChangeEmpresa(){















  /* var URL = '/seccional/ChangeEmpresa/'+$("#currentempresa").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    }); */







    document.location.href=$("#currentempresa").val();























}















function ChangeEmpresa2(){















   /* var URL = '/seccional/ChangeEmpresa/'+$("#currentempresa2").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        */







    //document.location.href='/login/changeempresacambio/'+$("#currentempresa2").val()+'/';















    document.location.href=$("#currentempresa2").val();















}















function ChangeEmpresaTRD(){















    var URL = '/seccional/ChangeEmpresaTRD/'+$("#id_trd").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function ChangeOficina(){















    var URL = '/seccional/ChangeOficina/'+$("#currentoficina").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function ChangeArea(){















    var URL = '/seccional/ChangeArea/'+$("#currentarea").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function ChangeUsuario(){















    var URL = '/seccional/ChangeUsuario/'+$("#currentusuariocambio").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















            window.location.reload();















        }















    });        















}















function OpenWindow(url){







    //Alert2("Abriendo: "+url)







    var opciones = "Width=800, Height=600, Top=0 Left=0, Scrollbars=NO, resizable=NO, Directories=NO, Location=NO, Menubar=NO, Status=NO, Titlebar=NO, Toolbar=NO, fullscreen=NO";















    var targ = "target='_blank'";







    







    window.open(url, "Reparto de Expedientes", targ, opciones);























}















function OpenWindow2(url){















    var opciones = "Width=800, Height=600, Top=0 Left=0, Scrollbars=NO, resizable=NO, Directories=NO, Location=NO, Menubar=NO, Status=NO, Titlebar=NO, Toolbar=NO, fullscreen=NO";















    var targ = "target='_blank'";















    window.open(url, "Configurar Expediente", targ, opciones);















}















function UpdateFoliosAnexos(id){















    var URL = '/gestion_anexos/UpdateFolios/'+id+'/'+$("#startfolis").val()+'/'+$("#finfolis").val()+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg);















        }















    })















}















function InsertSuscriptores_contactos_direccion(){















    var URL = '/suscriptores_contactos_direccion/registrar/';















    var str = "direccion="+$("#form_direccion").val()+"&id_contacto="+$("#form_id_contacto").val()+"&ciudad="+$("#form_ciudad").val()+"&telefonos="+$("#form_telefonos").val()+"&email="+$("#form_email").val()+"&regbtn="+$("#form_regbtn").val();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Información del suscriptor actualizada");















            EditarSuscriptor($("#form_id_contacto").val());















        }















    });     















}















function EliminarSuscriptores_contactos_direccion(id){















    if(confirm('Esta seguro desea eliminar esta informacion de contacto')){















        var URL = '/suscriptores_contactos_direccion/eliminar/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success: function(msg){















                Alert2(msg);















                $('#rsc'+id).remove();















            }















        });















    }















}   















function EditarSuscriptorcontactos_direccion(id){















    var URL = '/suscriptores_contactos_direccion/editar/'+id+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            $("#rowformsuscotd").html(msg);















        }















    })















}















function UpdateSuscriptores_contactos_direccion(){

    var URL = '/suscriptores_contactos_direccion/actualizar/';
    var str = "direccion="+$("#form_direccion").val()+"&id="+$("#form_id").val()+"&ciudad="+$("#form_ciudad").val()+"&telefonos="+$("#form_telefonos").val()+"&email="+$("#form_email").val()+"&regbtn="+$("#form_regbtn").val();

    $.ajax({
        type: 'POST',
        url: URL,
        data: str,
        success:function(msg){
            alert("Información del suscriptor actualizada");
            window.location.reaload();
            //EditarGestion_suscriptores($("#form_id_contacto").val());
            //EditarSuscriptor($("#form_id_contacto").val());
        }
    }); 
}















function apremdoc(id){















    observacion = $("#observacion").val()+"\n";















    observacion += prompt("Escriba una observacion");















    var str = "id="+id+"&observacion="+observacion+"&estado="+$("#changeactiondoc").val()















    var URL = '/documentos_gestion_permisos/actualizar/';















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Permiso actualizado");















            window.location.reload();















        }















    });















}















function BtnActualizar(){















    var URL = '/dependencias/actualizar/';















    var str = $("#FormUpdatedependencias").serialize();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            Alert2("Dependencia Actualizada");















        }















    });















}















function GetProcedimientoDependencia(){















    var URL = '/dependencias/GetProcedimiento/';















    var str = "id="+$("#formareas_dependencias #id_dependencia").val();















    $.ajax({















        type: 'POST',















        url: URL,















        data: str,















        success:function(msg){















            $("#formareas_dependencias #observacion").val(msg)















        }















    });















}















function InsertDependencia(form){















    if (CheckImportantes(form)) {















        var URL = '/dependencias/registrar/';















        var str = $("#"+form).serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Dependencia Registrada. ");















                if (form == "formdependencias") {















                    $("#listadodependencias").html(msg);















                    $.ajax({















                        type: 'POST',















                        url: "/dependencias/GetNuevaDependencia/",















                        success:function(msgx){















                            DependenciaDependencias(msgx);















                        }















                    });















                }else{















                    DependenciaDependencias($("#formsubdependencias #dependencia").val());















                }















            }















        });















    }















}















function InsertSerie(form){







    if (CheckImportantes(form)) {







        var URL = '/dependencias/registrar/';







        var str = $("#"+form).serialize();







        $.ajax({







            type: 'POST',







            url: URL,







            data: str,







            success:function(msg){







                Alert2("Serie Documental Registrada.");







                $("#listadodependencias").append(msg);







                /*$.ajax({







                    type: 'POST',







                    url: "/dependencias/GetNuevaDependencia/",







                    success:function(msgx){







                        DependenciaDependencias(msgx);







                    }







                });*/







            }







        });







    }







}















function InsertSubserie(form){







    if (CheckImportantes(form)) {







        var URL = '/dependencias/registrarss/';







        var str = $("#"+form).serialize();







        $.ajax({







            type: 'POST',







            url: URL,







            data: str,







            success:function(msg){







                Alert2("Sub Serie Documental Registrada.");







                $("#listsubseriesgroup").html(msg);







                /*$.ajax({







                    type: 'POST',







                    url: "/dependencias/GetNuevaDependencia/",







                    success:function(msgx){







                        DependenciaDependencias(msgx);







                    }







                });*/







            }







        });







    }







}















function InsertArea(){



    if (CheckImportantes("formareas")) {



        var URL = '/areas/registrar/';



        var str = $("#formareas").serialize();



        $.ajax({



            type: 'POST',



            url: URL,



            data: str,



            success:function(msg){



                $("#listadoareas").html(msg);



                Alert2("Area Creada Correctamente!");



                $.ajax({



                    type: 'POST',



                    url: "/areas/GetNuevaArea/",



                    success:function(msgx){



                        AreasDependencias(msgx);



                    }



                });



            }



        });



    }



}















function InsertAreaDependencia(){















    if (CheckImportantes("formareas_dependencias")) {















        var URL = '/areas_dependencias/registrar/';















        var str = $("#formareas_dependencias").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Dependencia agregada");















                dep = $("#formareas_dependencias #id_area").val();















                AreasDependencias(dep);















            }















        });















    }















}















function InsertSeccionalPrincipal(){















    if (CheckImportantes("formseccional_principal")) {















        var URL = '/seccional_principal/registrar/';















        var str = $("#formseccional_principal").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                $.ajax({















                    type: 'POST',















                    url: "/seccional_principal/GetNuevaSeccional/",















                    success:function(msgx){















                        select_gestOficinas('juz-per',this, msgx);















                        $("#Tablaseccional_principal").append('<tr id="r'+msgx+'" class="impar"><td>'+$("#formseccional_principal #nombre").val()+'</td><td>'+$("#formseccional_principal #sigla").val()+'</td><td>'+$("#formseccional_principal #ciudad_origen").val()+'</td><td><div style="float:left; margin-right:5px;" onclick="EditarSeccional_principal(\''+msgx+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div><div style="float:left; margin-right:5px;" onclick="select_gestOficinas(\'juz-per\',this, \''+msgx+'\')" class="active"><div class="mini-ico green-office" title="Ver Oficinas"></div></div><div onclick="EliminarSeccional_principal(\''+msgx+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div></td></tr>');















                    }















                });















            }















        });















    };















}















function EliminarDependencias(id, raiz){















    if(confirm('Esta seguro desea eliminar esta Dependencia')){















        var URL = '/dependencias/eliminar/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success: function(msg){















                if (raiz != "0") {















                    DependenciaDependencias(raiz);















                }else{















                    window.location.reload();















                }















            }















        });















    }















}















function ActivarDependencias(id, raiz){















    if(confirm('Esta seguro desea Activar esta Dependencia')){















        var URL = '/dependencias/activar/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success: function(msg){















                if (raiz != "0") {















                    DependenciaDependencias(raiz);















                }else{















                    window.location.reload();















                }















            }















        });















    }















}   















function DependenciaDependencias(elm){















    var URL = '/dependencias/listar/'+elm+'/';















    $.ajax({















        url: URL,  















        type: 'POST',















        cache: false,















        contentType: false,















        processData: false,















        success: function(data){















            $(".tblresult").removeClass("activa");















            $("#rho"+elm).addClass("activa");















            $('#listadosubseries').html(data);















        }















    });















}















function EditarDependencias(id){















    var URL = '/dependencias/editar/'+id+'/';















    $.ajax({















        url: URL,  















        type: 'POST',















        cache: false,















        contentType: false,















        processData: false,















        success: function(data){















            $('#formupdatedep').html(data);















        }















    });















}















function BtnCancelarActualizar(){







/*







    if ($("#editarelementosubseries").hasClass('disabled')) {







        $("#editarelementosubseries").addClass('enable');







        $("#editarelementosubseries").removeClass('disabled');







        $("#editarelementosubseries").slideDown();







        $("#abrirlistadosubseries").slideUp();







    }else{







        $("#editarelementosubseries").addClass('disabled');







        $("#editarelementosubseries").removeClass('enable');















    }*/







    $("#editarelementosubseries").slideUp();







    $("#abrirlistadosubseries").slideDown();















    $("#editarelementosubseries").addClass("xxdisabled");







    $("#editarelementosubseries").removeClass("xxenabled");







    $("#abrirlistadosubseries").addClass("xxenabled");







    $("#abrirlistadosubseries").removeClass("xxdisabled");















}















function EditarDependenciaPrincipal(id){







    var URL = '/dependencias/editar/'+id+'/';



    



    $("#editarelementosubseries").removeClass('xxdisabled');



    $("#editarelementosubseries").addClass('xxenabled');



    $("#editarelementosubseries").slideDown();







    $("#abrirlistadosubseries").removeClass('xxenabled');



    $("#abrirlistadosubseries").addClass('xxdisabled');



    $("#abrirlistadosubseries").slideUp();







    $.ajax({



        url: URL,  



        type: 'POST',



        cache: false,



        contentType: false,



        processData: false,



        success: function(data){



            $('#editarelementosubseries').html(data);



        }



    });



}















function EliminarAreas_dependencias(id, area){















    if(confirm('¿Esta seguro desea eliminar esta subserie')){















        var URL = '/areas_dependencias/eliminar/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success: function(msg){















                Alert2(msg);















                //window.location.reload();







                $("#e-li"+id).remove();







                //AreasDependencias(area);















            }















        });















    }















}   















function InsertSeccional(){















    if (CheckImportantes("formareas")) {















        var URL = '/seccional/registrar/';















        var str = $("#formareas").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                select_gestOficinas('juz-per',this, $("#formareas #principal").val());















            }















        });















    }















}















function InsertEstado_gestion(){















    if (CheckImportantes("formestados_gestion")) {















        var URL = '/estados_gestion/registrar/';















        var str = $("#formestados_gestion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){







                Alert2(" Estado Registrado");



                $("#Tablaestados_gestion").append('<tr id="r'+msg+'" class="impar"><td>'+$("#formestados_gestion #nombre").val()+'</td><td width="80px"><div style="float:left; margin-right:5px;" onclick="EditarEstados_gestion(\''+msg+'\')"><div class="btn btn-info btn-circle" title="editar"></div></div><div style="float:left; margin-right:5px;" onclick="EliminarEstados_gestion(\''+msg+'\')"><div class="btn btn-warning btn-circle mdi mdi-delete" title="eliminar"></div></div></td></tr>');



















            }















        });















    }















}















function EditEstado_gestion(){















    if (CheckImportantes("FormUpdateestados_gestion")) {















        var URL = '/estados_gestion/actualizar/';















        var str = $("#FormUpdateestados_gestion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Estado Actualizado!");















            }















        });















    }















}















function GetId_a(id){















    var URL = '/gestion/GetId_a/'+id+"/";















    var x = "";















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            valor = zeroFill(msg, 3).trim();















            $("#areatemp").val(valor.trim());















            $("#num_oficio_respuesta").val($("#anho_rad").val()+zeroFill(valor, 3));















//            $("#num_oficio_respuesta").val(temp+"-"+valor);















        }















    });















}















function GetId_c(id){















    var URL = '/gestion/GetId_c/'+id+"/";















    var x = "";















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            valor = zeroFill(msg, 3).trim();















            temp = $("#num_oficio_respuesta").val();















            $("#depratemp").val(valor.trim());















            $("#num_oficio_respuesta").val($("#anho_rad").val()+zeroFill($("#areatemp").val(), 3)+"-"+zeroFill(valor, 3));















//            $("#num_oficio_respuesta").val(temp+"-"+valor);















        }















    });















}















function GetId_c2(id){















    var URL = '/gestion/GetId_c/'+id+"/";















    var x = "";















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            temp = $("#num_oficio_respuesta").val();















            valor = zeroFill(msg, 3).trim();















            $("#num_oficio_respuesta").val($("#anho_rad").val()+zeroFill($("#areatemp").val(), 3)+"-"+zeroFill($("#depratemp").val(), 3)+"-"+zeroFill(valor, 3));















//            $("#num_oficio_respuesta").val(zeroFill($("#ciudad").val(), 3)+"-"+zeroFill($("#oficina").val(), 3)+"-"+zeroFill($("#dependencia_destino").val(), 3)+"-"+zeroFill($("#id_dependencia_raiz").val(), 3)+"-"+zeroFill($("#tipo_documento").val(), 3));















//            $("#num_oficio_respuesta").val(temp+"-"+valor);















        }















    });















}















function imprSelec(nombre){















    var ficha = document.getElementById(nombre);















    var ventimp = window.open(' ', 'popimpr');















    ventimp.document.write(ficha.innerHTML );















    ventimp.document.close();















    ventimp.print( );















    ventimp.close();















} 







function BuscarAnexoGestion(id){







    var cn = $("#searchanexo #searchfilter").val();  



    var URL = '/gestion/ver/'+id+'/anexosbuscar/'+cn+'/';



    document.location.href= URL;



}







function BuscarAnexo(id){















    var cn = $("#searchanexo #searchfilter").val();    















    var URL = '/gestion_anexos/buscador/'+id+'/'+cn+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            $("#list-anexos").html(msg);















        }















    });















}















function sentcorrespondencia(){



    /**/



    var mensaje = '';



    if($('#notif').is(':checked')){



        if($('#notif_tipo_documento').val() ==''){



            mensaje = 'Seleccione Tipo de Notificacion';



            alert(mensaje);



            return false;



        }



        if($('#notif_dias_habiles').val() ==''){



            mensaje = 'Seleccione Dias Habiles Notificarse';



            alert(mensaje);



            return false;



        }



        if($('#notif_juzgado').val() ==''){



            mensaje = 'Ingrese el Juzgado';



            alert(mensaje);



            return false;



        }



        if($('#notif_direccion_juzgado').val() ==''){



            mensaje = 'Ingrese la Direccion Juzgado';



            alert(mensaje);



            return false;



        }



        if($('#notif_demandado').val() ==''){



            mensaje = 'Ingrese el Demandado';



            alert(mensaje);



            return false;



        }



        if($('#notif_nombre').val() ==''){



            mensaje = 'Ingrese el Notificado';



            alert(mensaje);



            return false;



        }



        if($('#notif_direccion').val() ==''){



            mensaje = 'Ingrese la Direccion Demandado';



            alert(mensaje);



            return false;



        }



        if($('#notif_ciudad').val() ==''){



            mensaje = 'Ingrese la Ciudad Demandado';



            alert(mensaje);



            return false;



        }

        if($('#titulo').val() == 'CE' || $('#titulo').val() == 'CC/CE'){

            if($('#notif_emaildemandado').val() ==''){



                mensaje = 'Ingrese el Email Demandado';



                alert(mensaje);



                return false;



            }

        }







    }



    var URL = '/notificaciones/registrar/';



    if ($('#anexos_listado').val() == ""){



        if(!confirm("¿Está seguro que desea enviar esta correspondencia sin documentos adjuntos?")){



            return false;



        }



    }



    if (CheckImportantes("forminsertnotificacion")) {



        var str = $("#forminsertnotificacion").serialize();



        $.ajax({



            type: 'POST',



            url: URL,



            data: str,



            success:function(msg){

                var arrError = msg.split(' ');
                if(arrError[0] == 'Error'){
                    Alert2(msg);
                }else{
                    Alert2(msg);
                    ShowMailer('/notificaciones/mini_all/'+$("#forminsertnotificacion #id_gestion").val()+'/', 'mailer_all');
                }



            }



        });



    }



}







function Updatecorrespondencia(){















    var URL = '/notificaciones/actualizar/';















    if ($('#anexos_listado').val() == ""){















        if(!confirm("¿Está seguro que desea enviar esta correspondencia sin documentos adjuntos?")){















            return false;















        }















    }















    if (CheckImportantes("forminsertnotificacion")) {















        var str = $("#forminsertnotificacion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2(msg);















                ShowMailer('/notificaciones/mini_all/'+$("#forminsertnotificacion #id_gestion").val()+'/', 'mailer_all');















            }















        });















    }















}















function ExportarExcel(id){















    $("#datos_a_enviar").val( $("<div>").append( $("#"+id).eq(0).clone()).html());















    $("#FormularioExportacion").submit();















}















function CheckImportantes(vform){















    path = "Faltan por llenar los campos: ";















    $('#'+vform+' .important').each(function(key, value) {















        if ($(this).val() == "") {















            path += "\n"+$(this).attr("placeholder");















        }















    });















    if (path != "Faltan por llenar los campos: ") {















        Alert2(path);















        return false;















    }else{















        return true;















    }















}















function ChecSuscriptoresExistsGestionRegistrar(){















    if (CheckImportantes("formgestion")) {















        /*if($("#suscriptor_id").val() == "N"){















            var URL = '/suscriptores_contactos/checkifexists/'+$("#Identificacion_suscriptor").val()+'/';   















            $.ajax({















                type: 'POST',















                url: URL,















                success:function(msg){















                    msg = msg.trim();















                    if (msg == "false") {















                        Alert2("El suscriptor ya se encuentra registrado");















                        return false;















                    }else{















                        $("#formgestion").submit();















                    }















                }















            });















        }else{















        }*/















           $("#formgestion").submit(); 















    }else{















        return false;















    }















}















function ChecSuscriptoresExists(){















    if (CheckImportantes("formsuscriptores_contactos")) {















        var URL = '/suscriptores_contactos/checkifexists/'+$("#identificacion").val()+'/';   















        $.ajax({















            type: 'POST',















            url: URL,















            success:function(msg){















                msg = msg.trim();















                if (msg == "false") {















                    Alert2("El suscriptor ya se encuentra registrado");















                    return false;















                }else{















                    var URL = '/suscriptores_contactos/registrar/';















                    var str = $("#formsuscriptores_contactos").serialize();















                    $.ajax({















                        type: 'POST',















                        url: URL,















                        data: str,















                        success:function(msg){















                            Alert2("Suscriptor Creado");







                            window.location.reload();







                            /*



                                showqanexos("/suscriptores_contactos/GetListado/1/", "cargador_box_upfiles_menu");



                                $("#formsuscriptores_contactos #nombre").val("");



                                $("#formsuscriptores_contactos #identificacion").val("");



                                $("#formsuscriptores_contactos #email").val("");



                                $("#formsuscriptores_contactos #type").val("");



                            */







                        }















                    });















                }















            } 















        });















    }else{















        return false;















    }















}















function sentmail(id){















        if ($('#to').val() == ""){















            Alert2("Debe seleccionar por lo menos un destinatario");















            return false















        }















        if ($('#subject').val() == ""){















            if(!confirm("Desea enviar el mensaje sin asunto ")){















                return false;















            }















        }















        if ($('.note-editable').html() == ""){















            if(!confirm("Desea enviar el mensaje sin mensaje ")){















                return false;















            }















        }















        if ($('#anexos_listado').val() == ""){















            if(!confirm("¿Está seguro que desea enviar este correo sin archivos adjuntos?")){















                return false;















            }















        }















        $("body").css("cursor", "wait");















        var str = $("#formmailer_message").serialize();















        $.ajax({















            type: 'POST',















            url: '/correo/enviar/',















            data: str,















            success: function(msg){















                Alert2(msg);















                $("body").css("cursor", "default");















                ShowMailer('/correo/mini_all/'+id+'/', 'mailer_all');















                //$("#formmessage").reset();















            }   















        });     















}















function ActiveCheck(id){







    var date = $("#"+id).prop("checked"); 



    var valor  = $("#"+id).attr("value");



    var titulo = $("#"+id).attr("title");



    var idan   = $("#"+id).attr("id");







    if (date){







        var strx = "<li id='l"+idan+"' class='list-group-item'>"+titulo+"</li>";



        $("#listado_anexos").append(strx);







        var x = $("#anexos_listado").val()+";"+idan;



        $("#anexos_listado").val(x);







        var y = $("#archivos_anexos_listado").val()+";"+valor;



        $("#archivos_anexos_listado").val(y);







        var y = $("#titulos_anexos_listado").val()+"@@@"+titulo;



        $("#titulos_anexos_listado").val(y);                  







    }else{



        var strx = "l"+idan;



        $("#"+strx).remove();







        var xl   = $("#anexos_listado").val();



        vector  = xl.split(";");







        var yl   = $("#archivos_anexos_listado").val();



        vectory  = yl.split(";");







        var ml   = $("#titulos_anexos_listado").val();



        vectorm  = ml.split("@@@");







        var xt = "";



        var yt = "";



        var mt = "";







        for (var i = 0 ; i < vector.length ; i++){



            if(vector[i] == idan){







                vector.slice(i);                        



                vectory.slice(i);



                vectorm.slice(i);







            }else{



                xt += vector[i]+";";



                yt += vectory[i]+";";



                mt += vectorm[i]+"@@@";



            }



        }



        $("#anexos_listado").val(xt);



        $("#archivos_anexos_listado").val(yt);



        $("#titulos_anexos_listado").val(mt);



    } 



}















function shareDocumentoUsuario(id){















    var cn = $("#id_usuario_"+id).val();    















    if(cn == ''){















        Alert2('Debe Digitar un usuario para compartir el documento');















    }else{















        var URL = '/gestion_anexos_permisos_documentos/compartir/'+id+'/'+cn+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success:function(msg){















                msg = msg.trim();















                var amsg = msg.split('|');















                if (amsg[0] == "ok") {















                    Alert2("Documento Compartido");















                    $("#listshare"+id).append("<li>Documento Compartido con el usuario "+amsg[1]+"</li>");















                    $('#da_message_warning'+id).hide();















                }else{















                    if (amsg[0] == "N") {















                        Alert2(amsg[1]);















                    }else{















                        Alert2("No se pudo compartir el documento");















                    }















                }















            }















        });















        }   















}















function shareDocumento(id){















    var cn = $("#whoishare_"+id).val();    















    var URL = '/gestion_anexos/compartir/'+id+'/'+cn+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            msg = msg.trim();















            var amsg = msg.split('|');















            if (amsg[0] == "ok") {















                Alert2("Documento Compartido");















                $("#listshare"+id).append("<li>Documento Compartido con el expediente "+amsg[1]+"</li>");















                $('#da_message_warning'+id).hide();















            }else{















                Alert2("No se pudo compartir el expediente");















            }















        }















    });   















}















function BuscarInforme(){















    if (CheckImportantes("formgestion")) {















        var URL = '/informes/GetInforme/';















        var str = $("#formgestion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                $("#ResultInformes").html(msg);















            }















        });















    }   















}























function BuscarInformeFuid(){















    if (CheckImportantes("formgestion")) {















        var URL = '/informes/GetFuid/';















        var str = $("#formgestion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                $("#ResultInformes").html(msg);















            }















        });















    }   















}















function BuscarInformeMetadatos(){















    if (CheckImportantes("formgestion")) {















        var URL = '/informes/GetInformeMetadatos/';















        var str = $("#formgestion").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                $("#ResultInformes").html(msg);















            }















        });















    }   















}















function ChangeStatusDoc(id, status){















    var estado = "";















    if (status == "1") {















        estado = "Activado";















    }else{















        estado = "Eliminado";















    }















    if (confirm("¿Está seguro que desea marcar el docuento como "+estado+"?")) {















        var URL = '/gestion_anexos/ChangeStatusDoc/';















        var str = "iddoc="+id+"&estado="+status;















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Documento "+estado)







                window.location.reload();







                if (status == "1") {















                    window.location.reload();















                }else{















                    $("#file_"+id).remove();















                }















            }















        });















    };















}















function UpdateDependenciaTipologiaReferencia(){















    if (confirm("¿Está seguro que desea editar los metadatos?")) {















        var URL = '/dependencias_tipologias_referencias/actualizar/';















        var str = $("#FormUpdatedependencias_tipologias_referencias").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2(msg)















            }















        });















    };















}















function OpenedSession(){















    $("#box_sesiones").fadeIn();















}















function CerrarSesiones(valor){















    var URL = '/login/actualizarsesion/'+valor+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            Alert2(msg)















        }















    });















}















function KillActivities(id, type){







    if (id == "1") {







        strn = "¿Esta Seguro que desea marcar todas las actividades como leidas?";







    }







    if (id == "2") {







        strn = "¿Esta Seguro que desea archivar todas las actividades?";







    }







    if (id == "3") {







        strn = "¿Esta Seguro que desea eliminar las actividades de su historial?";







    }







    if (confirm(strn)) {















        var URL = '/dashboard/KillActivities/'+id+'/'+type+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success:function(msg){















                window.location.reload();















            }















        });















    }















}















function fnsuscriptores_contactos_verradicaciones(id,id2){















    if($('#fecha_inicio').val() != '' && $('#fecha_fin').val() != ''){















        document.location.href='/suscriptores_contactos/verradicaciones/'+id+'/'+id2+'/'+$('#fecha_inicio').val()+'|'+$('#fecha_fin').val()+'/';















    } else {















        Alert2('Debe seleccionar fecha inicio y fecha fin');















    }















}















function ExportarActuaciones(id){







    $("body").css("cursor", "wait");



    if (confirm("¿Esta Seguro que desea Exportar las actuaciones realizadas hasta el momento?")) {



        var URL = '/events_gestion/exportaractuaciones/'+id+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2(msg);



                $("body").css("cursor", "default");



                //window.location.reload()



            }



        });



    }



}







function ExportarAct(id, tipo){







    $("body").css("cursor", "wait");



    if (confirm("¿Esta Seguro que desea Exportar las actuaciones realizadas hasta el momento?")) {



        var URL = '/events_gestion/exportaractuaciones/'+id+'/'+tipo+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2(msg);



                $("body").css("cursor", "default");



                //window.location.reload()



            }



        });



    }



}















function ExportarCorreoAExpediente(id){















    $("body").css("cursor", "wait");















   if (confirm("¿Esta Seguro que Desea Exportar Este Correo al Expediente?")) {















        var URL = '/correo/exportarcorreo/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success:function(msg){















                Alert2(msg);















                $("body").css("cursor", "default");















                //window.location.reload();















            }















        });















    }   















}















function AnularServicio(id){















    $("body").css("cursor", "wait");















    if (confirm("¿Esta Seguro que Desea Anular este Servicio?")) {















        var URL = '/notificaciones/anular/'+id+'/';















        $.ajax({















            type: 'POST',















            url: URL,















            success:function(msg){















                Alert2(msg);















                $("body").css("cursor", "default");















                //window.location.reload();















            }















        });















    }      















}















function GotoPag(pag, id, folder){















    showfiles("/gestion/GetAnexos/"+id+"/"+folder+"/"+pag+"/", "cargador_box_upfiles_menu");















}















function GetTipologiasSubserie(id){















    $("body").css("cursor", "wait");















    var URL = '/dependencias_tipologias/GetListado/'+id+'/';















    $.ajax({















        type: 'POST',















        url: URL,















        success:function(msg){















            $("#listadotipologiassubserie").html(msg)















            $("body").css("cursor", "default");















            //window.location.reload();















        }















    });















}















function GetFechaVencimientoExpediente(id){















    var URL = '/dependencias/getfechavencimiento/'+id+'/';







    $.ajax({







        type: 'POST',







        url: URL,







        success:function(msg){















            $("#fecha_vencimiento").val(msg)







            //window.location.reload();







        }







    });







}















function InsertarKey(){















    if (confirm("¿Esta seguro que desea una nueva Key Para Servicio Web?")) {















        if (CheckImportantes("formws_keys")) {















            var URL = '/ws_keys/registrar/';















            var str = $("#formws_keys").serialize();















            $.ajax({















                type: 'POST',















                url: URL,















                data: str,















                success:function(msg){











                    if (msg == "1") {















                        Alert2("Key Para Servicio Web Registrada");















                        LoadWsCofig("/ws_keys/listar/", "listkeys");















                    }else{















                        Alert2("Error al crear la Key"+msg);















                        $("#dump").html(msg);















                    }















                }















            });   















        }















    }















}







function RegistrarTransferirExpedientesUsuarios(){















    if($('#usuariop').val() == '' || $('#usuariod').val() == ''){















        Alert2('Debe seleccionar usuario (origen)/usuario para transferir(destino)');















        return true;















    }















    if($('#usuariop').val() == $('#usuariod').val()){















        Alert2('Los usuarios deben ser diferentes');















        return true;















    }















    if(confirm("Esta seguro de cambia "+$('#transferir_por').val()+" de los expedientes de "+$('#usuariop option:selected').text()+" ha "+$('#usuariod option:selected').text()+"")){















        var URL = '/herramientas/RegistrarTransferirExpedientesUsuarios/0/';















        var str = $("#FormTransferirExpedientesUsuarios").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){















                Alert2("Expedientes transferido");















            }















        });















    }































    















}







function RegistrarCompartirExpedientesUsuarios(){



















    if($('#usuariop').val() == '' || $('#usuariod').val() == ''){















        Alert2('Debe seleccionar usuario propietario/usuario para compartir');















        return true;















    }















    if($('#usuariop').val() == $('#usuariod').val()){















        Alert2('Los usuarios deben ser diferentes');















        return true;















    }















    if(confirm("Eta seguro de compartir los expedientes de "+$('#usuariop option:selected').text()+" con "+$('#usuariod option:selected').text()+"")){







        $("body").css("cursor", "wait");











        var URL = '/herramientas/RegistrarCompartirExpedientesUsuarios/0/';















        var str = $("#FormCompartirExpedientesUsuarios").serialize();















        $.ajax({















            type: 'POST',















            url: URL,















            data: str,















            success:function(msg){







                $("body").css("cursor", "normal");







                Alert2(msg+" Expedientes compartidos");















            }















        });















    }































    















}







function base64_decode (encodedData) { // eslint-disable-line camelcase







  //  discuss at: http://locutus.io/php/base64_decode/







  // original by: Tyler Akins (http://rumkin.com)







  // improved by: Thunder.m







  // improved by: Kevin van Zonneveld (http://kvz.io)







  // improved by: Kevin van Zonneveld (http://kvz.io)







  //    input by: Aman Gupta







  //    input by: Brett Zamir (http://brett-zamir.me)







  // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)







  // bugfixed by: Pellentesque Malesuada







  // bugfixed by: Kevin van Zonneveld (http://kvz.io)







  //   example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==')







  //   returns 1: 'Kevin van Zonneveld'







  //   example 2: base64_decode('YQ==')







  //   returns 2: 'a'







  //   example 3: base64_decode('4pyTIMOgIGxhIG1vZGU=')







  //   returns 3: '✓ à la mode'







  if (typeof window !== 'undefined') {







    if (typeof window.atob !== 'undefined') {







      return decodeURIComponent(encodeURIComponent(window.atob(encodedData)))







    }







  } else {







    return new Buffer(encodedData, 'base64').toString('utf-8')







  }







  var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='







  var o1







  var o2







  var o3







  var h1







  var h2







  var h3







  var h4







  var bits







  var i = 0







  var ac = 0







  var dec = ''







  var tmpArr = []







  if (!encodedData) {







    return encodedData







  }







  encodedData += ''







  do {







    // unpack four hexets into three octets using index points in b64







    h1 = b64.indexOf(encodedData.charAt(i++))







    h2 = b64.indexOf(encodedData.charAt(i++))







    h3 = b64.indexOf(encodedData.charAt(i++))







    h4 = b64.indexOf(encodedData.charAt(i++))







    bits = h1 << 18 | h2 << 12 | h3 << 6 | h4







    o1 = bits >> 16 & 0xff







    o2 = bits >> 8 & 0xff







    o3 = bits & 0xff







    if (h3 === 64) {







      tmpArr[ac++] = String.fromCharCode(o1)







    } else if (h4 === 64) {







      tmpArr[ac++] = String.fromCharCode(o1, o2)







    } else {







      tmpArr[ac++] = String.fromCharCode(o1, o2, o3)







    }







  } while (i < encodedData.length)







  dec = tmpArr.join('')







  return decodeURIComponent(encodeURIComponent(dec.replace(/\0+$/, '')))







}























function DoBigData(){







    var URL = '/gestion/registrarFormulario/';







    var str = $("#formnewbigdata").serialize();















   $.ajax({







       type: 'POST',







        url: URL,







        data: str,







        success:function(msg){







            Alert2(msg);







            window.location.reload();







        }







    });   







}















function AbrirAreaSerie(area, serie){



//    $("#listadodependencias > a").removeClass("active");



//    $("#e-li"+serie).addClass("active");



    var URL = '/areas_dependencias/GetSubseries/';



    var str = "area="+area+"&serie="+serie;







    $("#editarelementosubseries").slideUp();



    $("#abrirlistadosubseries").slideDown();







    $("#editarelementosubseries").addClass("xxdisabled");



    $("#editarelementosubseries").removeClass("xxenabled");



    $("#abrirlistadosubseries").addClass("xxenabled");



    $("#abrirlistadosubseries").removeClass("xxdisabled");







    $.ajax({



       type: 'POST',



        url: URL,



        data: str,



        success:function(msg){



            $("#abrirlistadosubseries").html(msg);   



        }



    });   



}























function ArchivarCorreo(id){















    var URL = '/correo/archivar/'+id+"/";















   $.ajax({







       type: 'POST',







        url: URL,







        success:function(msg){







            Alert2(msg);







            window.location.reload();







        }







    });      







}















function checkTodos (id,pID) {







    $( "#" + pID + " :checkbox").attr('checked', $('#' + id).is(':checked')); 







}















function ArchivarTodosCorreos(id){







    var URL = '/correo/archivar_todos/'+id+"/";















    $.ajax({







       type: 'POST',







        url: URL,







        success:function(msg){







            Alert2(msg);







            window.location.href = '/dashboard/home/inbox/';







        }







    });  







}























function UpdateVERSIONES(){















    var URL = '/dependencias_version/actualizar/';







    var str = $("#FormUpdatedependencias_version").serialize();







    $.ajax({







        type: 'POST',







        url: URL,







        data: str,







        success:function(msg){







            Alert2(msg);







        }







    });    







}







function ChangeStatusSuscriptor(ids, st){



    if (confirm("¿Está Seguro que Desea Cambiar el Tipo de Suscriptor")) {



        var URL = '/suscriptores_contactos/changetype/'+ids+'/'+st.value+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2(msg)



            }



        });



    };    



}







function CheckDocumento(ids, st){



    esv = "";



    if (st == "1") {



        esv = "Aceptar";



    }else{



        esv = "Rechazar";



    }



    if (confirm("¿Está Seguro que Desea "+esv+" este Documento")) {



        if (st == "-1") {



            var person = prompt("Porque Rechaza el Documento");



        }



        var URL = '/gestion_anexos/changestatus/'+ids+'/'+st+'/'+person+'/';



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2(msg)



            }



        });



    };    



}















function EliminarDocumentosFull(){















    if (confirm("¿Está seguro que desea eliminar definitivamente los documentos (este proceso no se puede revertir) ")) {







        var URL = '/gestion_anexos/eliminardocumentos/';







        var str = $("#listadoeliminaciondocumentos").serialize();;







        $.ajax({







            type: 'POST',







            url: URL,







            data: str,







            success:function(msg){







                Alert2(msg)







                //CargarAlerta2('Informe de Documentos Eliminados', 'eliminaciones')







                //$("#file_"+id).remove();







            }







        });







    };







}















function ChangeVersionConsulta(idv){







     var URL = '/dependencias_version/changeversion/'+$("#version_active").val()+'/';







    $.ajax({







        type: 'POST',







        url: URL,







        success:function(msg){







            Alert2("La versión de Consulta del menú Gestión ha cambiado");







            window.location.reload();







        }







    });           







}







function ClonarVersion(id,nombre){







    var person = prompt("El nombre de la nueva versión de TRD", nombre+" (Copia)");















    if (person != null) {







        var URL = '/dependencias_version/clonarversion/'+id+'/'+person+'/';







        $.ajax({







            type: 'POST',







            url: URL,







            success:function(msg){







                Alert2("La versión "+person+" TRD fue creada");







                //window.location.reload();







            }







        }); 







    }







}



function fnSuscriptoresUnificar(){



    if ($("#suscriptor_carga").val() != '' && $("#suscriptor_eliminar").val() != '') {



        var URL = '/suscriptores_contactos/unificarsuscriptor/'+$("#suscriptor_carga").val()+'/'+$("#suscriptor_eliminar").val()+'/';   



        $.ajax({



            type: 'POST',



            url: URL,



            success:function(msg){



                Alert2('Suscriptores Unificados');



                document.location.reload(true);



            } 



        });



    }else{



        return false;



    }



}



function DisableAlert2(){



    $("#panel_alerta_update").remove();



    $.ajax({



        type: 'POST',



        url: '/usuarios/disabled/',



        success:function(msg){



            



        } 



    });   



}







function SetRefSuscrpitor(id, t_sus){



    var URL = '/meta_referencias_titulos/setrfs/'+id+'/'+t_sus+'/';



    $.ajax({



        type: 'POST',



        url: URL,



        success:function(msg){



            Alert2(msg);



        }



    }); 



}



function SetRefMMetaListasValoresOption(campo, id, t_sus){



    var URL = '/meta_listas_valores/listadooption/'+id+'/'+t_sus+'/';



    $.ajax({



        type: 'POST',



        url: URL,



        success:function(msg){



            $('#'+campo).append(msg);



        }



    }); 



}
function fnfnotrosformulario(campo){
    if($('#'+campo+'2').val() == 'Otro'){
        $('#'+campo).val('').show().focus();
        $("#nombre_carpeta2").hide();
    }else{
        $('#'+campo).val($('#'+campo+'2').val()).hide();
    }
}



